<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>JSON P Demo</title>
    <script src="../../scripts/jquery-2.1.3.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function() {

            $('#show').click(function () {
                var zip = $('#zip')[0].value;
                console.log(zip);
                $.ajax({
                    url: "http://query.yahooapis.com/v1/public/yql",

                    // The name of the callback parameter, as specified by the YQL service
                    jsonp: "callback",



                    // Tell jQuery we're expecting JSONP
                    dataType: "jsonp",

                    // Tell YQL what we want and that we want JSON
                    data: {
                        q: "select * from weather.forecast where location=" + zip,
                        format: "json"
                    },

                    // Work with the response
                    success: function (response) {
                        console.log(response); // server response
                        console.log(response.query.results.channel.item.title);
                        $('#result')[0].innerhtml =response.query.results.channel.item.title;
                    },
                    failure : function (response) {
                        console.log(response); // server response
                        $('#result')[0].innerhtml = response;
                    }
                });
            });
        });

    </script>
</head>
<body>
<form>
    <input type="text" id="zip" value=""/>
    <input type="button" id="show" value="show"/>

</form>
<div id="result">

</div>
</body>
</html>